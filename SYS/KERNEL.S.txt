NEW
  AUTO 3,1
				.LIST OFF
				.OP 65C02
				.OR $2000
				.TF sys/kernel

				.INB INC/MACROS.I
				.INB INC/A2OSX.I
				.INB INC/IO.I
				.INB INC/IO.IIC.I
				.INB INC/IO.IIGS.I
				.INB INC/MLI.I
				.INB INC/MLI.E.I
				.INB INC/NET.TELNET.I
				.INB INC/XY.MOUSE.I
*				.INB INC/GFX.I

				.INB INC/KERNEL.I
				.INB USR/SRC/SYS/KERNEL.S.DEF
				.INB USR/SRC/SYS/KERNEL.S.INIT
				.INB USR/SRC/SHARED/X.PRINTF.S
				.INB USR/SRC/SHARED/X.UNPAK.S

PAKME.Table
PAKME.MAIN		.DA A2osX.MAIN
PAKME.AUX		.DA A2osX.AUX
PAKME.GP		.DA A2osX.GP
PAKME.D1		.DA A2osX.D1
PAKME.D2		.DA A2osX.D2
PAKME.E0		.DA A2osX.E0

A2osX.MAIN		.DA #0
				.DA A2osX.MAIN.S

A2osX.MAIN.B	.PH A2osX.EndTables
				.INB USR/SRC/SYS/KERNEL.S.CORE
				.INB USR/SRC/SYS/KERNEL.S.DRV
Mem.MLoMem		.EQ *
				.EP
A2osX.MAIN.S	.EQ *-A2osX.MAIN.B
				
A2osX.AUX		.DA #0
				.DA A2osX.AUX.S

A2osX.AUX.B		.PH Mem.XHiMem
				.INB USR/SRC/SYS/KERNEL.S.TERMX
				.INB USR/SRC/SYS/KERNEL.S.ENVX
				.INB USR/SRC/SYS/KERNEL.S.TIMEX
				.INB USR/SRC/SYS/KERNEL.S.MD5X
				.INB USR/SRC/SYS/KERNEL.S.PWDX
				.INB USR/SRC/SYS/KERNEL.S.SLISTX
				.EP
A2osX.AUX.S 	.EQ *-A2osX.AUX.B
				
A2osX.GP		.DA #0
				.DA A2osX.GP.S

A2osX.GP.B		.PH A2osX.SYSCALL
				.INB USR/SRC/SYS/KERNEL.S.GP
A2osX.GP.SC 	.EQ GP.CodeEnd-GP.CodeStart
				.EP
A2osX.GP.S		.EQ *-A2osX.GP.B

A2osX.D1		.DA #0
				.DA A2osX.D1.S

A2osX.D1.B		.PH	$D000
				.DA #RRAMWRAMBNK1
				.INB USR/SRC/SYS/KERNEL.S.STAT
				.INB USR/SRC/SYS/KERNEL.S.DIRENT
				.INB USR/SRC/SYS/KERNEL.S.UNISTD
				.INB USR/SRC/SYS/KERNEL.S.STDIO
				.INB USR/SRC/SYS/KERNEL.S.STDLIB
				.INB USR/SRC/SYS/KERNEL.S.DEV
				.INB USR/SRC/SYS/KERNEL.S.FIO
				.EP
A2osX.D1.S		.EQ *-A2osX.D1.B

A2osX.D2		.DA #0
				.DA A2osX.D2.S

A2osX.D2.B		.PH	$D000
				.DA #RRAMWRAMBNK2
				.INB USR/SRC/SYS/KERNEL.S.STRING
				.INB USR/SRC/SYS/KERNEL.S.BIN
				.INB USR/SRC/SYS/KERNEL.S.PS
				.INB USR/SRC/SYS/KERNEL.S.ARG
				.INB USR/SRC/SYS/KERNEL.S.ENV
				.EP
A2osX.D2.S		.EQ *-A2osX.D2.B

A2osX.E0		.DA #0
				.DA A2osX.E0.S

A2osX.E0.B		.PH $E000
				.INB USR/SRC/SYS/KERNEL.S.JMP
				.INB USR/SRC/SYS/KERNEL.S.IRQ
				.INB USR/SRC/SYS/KERNEL.S.SHARED
				.INB USR/SRC/SYS/KERNEL.S.MATH
				.INB USR/SRC/SYS/KERNEL.S.TERM
				.INB USR/SRC/SYS/KERNEL.S.TIME
				.INB USR/SRC/SYS/KERNEL.S.MD5
				.INB USR/SRC/SYS/KERNEL.S.PWD
				.INB USR/SRC/SYS/KERNEL.S.STRV
				.INB USR/SRC/SYS/KERNEL.S.MEM
* go to A2osX.D1
				.INB USR/SRC/SYS/KERNEL.S.STDIO2
				.INB USR/SRC/SYS/KERNEL.S.IO
				.INB USR/SRC/SYS/KERNEL.S.PIPE
				.INB USR/SRC/SYS/KERNEL.S.PFT

DevMgr.Timer	.BS 1
DevMgr.ASCREEN	.BS 1
DevMgr.SCRNDEVS	.BS K.TTY.MAX+2			1-8=VT100, 9=GFX, 0=console
DevMgr.Stat		.DA DevMgr.FreeMem
DevMgr.Free		.DA DevMgr.FreeMem
				.DA DevMgr.HiMem
DevMgr.DevIdx	.DA #1
DevMgr.FreeMem	.EQ *
				.EP
A2osX.E0.S		.EQ *-A2osX.E0.B

				.AS "PAKME"				TAG
				.DA $2000				BIN ORG
				.DA #6					Chunk Count
				.DA PAKME.Table			Chunks

				.INB USR/SRC/SYS/KERNEL.S.CTRL
MAN
SAVE USR/SRC/SYS/KERNEL.S
ASM
