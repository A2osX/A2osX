NEW
PREFIX /A2OSX.BUILD
AUTO 4,1
*--------------------------------------
* $E000-E1FF  	K.SYSCALL.JMP Jmp Table
*--------------------------------------
*   Bank 1
*--------------------------------------
K.SYSCALL.JMP	.DA 0					$00
				.DA 0 
				.DA K.Stat
				.DA K.MKDir
				.DA K.MKNod
				.DA K.MKFIFO
				.DA 0
				.DA 0
				
				.DA K.OpenDir			$10
				.DA K.ReadDir
				.DA K.CloseDir
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0

				.DA K.FPutC				$20
				.DA K.PutChar
				.DA K.GetC
				.DA K.GetChar
				.DA K.FPutS
				.DA K.PutS
				.DA 0
				.DA 0
				
				.DA K.FOpen				$30
				.DA K.FClose
				.DA K.FRead
				.DA K.FWrite
				.DA K.FFlush
				.DA K.FSeek
				.DA K.FTell
				.DA K.FEOF

				.DA K.Remove			$40
				.DA K.Rename
				.DA 0
				.DA 0
				.DA K.GetDevByID
				.DA K.GetDevByName
				.DA K.GetDevStatus
				.DA K.IOCTL
				
				.DA 0					$50
				.DA K.SScanF
				.DA 0
				.DA 0
				.DA K.PrintF
				.DA K.SPrintF
				.DA K.FPrintF
				.DA 0
				
				.DA 0			 		$60
				.DA 0
				.DA K.LoadFile
				.DA K.LoadTxtFile
				.DA K.ChTyp
				.DA K.ChMod
				.DA K.ChOwn
				.DA K.ChGrp

				.DA K.AToF				$70
				.DA K.AToI
				.DA K.AToL
				.DA K.StrToF
				.DA K.StrToL
				.DA 0
				.DA K.RealPath
				.DA 0
*--------------------------------------
*   Bank 2
*--------------------------------------
				.DA K.StrLen			$80
				.DA K.StrCpy
				.DA K.StrCat
				.DA K.StrMatch
				.DA K.StrUpr
				.DA K.StrLwr
				.DA K.StrCmp
				.DA K.StrICmp

				.DA K.Time				$90
				.DA K.CTime2Time
				.DA K.PTime2Time
				.DA K.StrFTime
				.DA K.LoadLib
				.DA K.UnloadLib
				.DA K.LoadDrv
				.DA K.FileSearch

				.DA K.ExecPSNewEnv		$A0
				.DA K.ExecPS		
				.DA K.CreatePSNewEnv
				.DA K.CreatePS
				.DA 0
				.DA K.GetMemStat
				.DA K.GetPSStatus
				.DA K.GetPSStat

				.DA 0					$B0
				.DA K.GetArg
				.DA K.ExpandStr
				.DA 0
				.DA K.PutEnv
				.DA K.SetEnv	
				.DA K.GetEnv
				.DA K.UnsetEnv	
				
				.DA K.FAdd				$C0
				.DA K.FSub
				.DA K.FMult
				.DA K.FDiv
				.DA K.FPwr
				.DA 0
				.DA K.LRIntF
				.DA K.Float

				.DA K.Log				$D0
				.DA K.Sqr
				.DA K.Exp
				.DA K.Cos
				.DA K.Sin
				.DA K.Tan
				.DA K.ATan
				.DA 0
*--------------------------------------
*  $E000
*--------------------------------------
				.DA K.GetStkObjProp		$E0
				.DA K.FreeMem
				.DA K.GetMemPtr
				.DA K.GetMemByID
				.DA K.GetMem
				.DA K.GetMem0
				.DA K.NewStr
				.DA K.SListAdd
*--------------------------------------
				.DA K.SListLookup		$F0
				.DA K.SListGetByID
				.DA K.SListUpdateByID
				.DA K.SListNew
				.DA K.SListFree
				.DA K.LoadStkObj
				.DA K.NewStkObj
				.DA K.FreeStkObj
*--------------------------------------
* LO Byte :
*   #RRAMWRAMBNK1,#RRAMWRAMBNK2
* HI Byte :
*   Flags (ROOT....)
*--------------------------------------
K.SYSCALL.BANK	.DA #RRAMWRAMBNK1		$00
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1				
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80

				.DA #RRAMWRAMBNK1		$10
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80		

				.DA #RRAMWRAMBNK1		$20
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1			
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80

				.DA #RRAMWRAMBNK1		$30
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1			
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80

				.DA #RRAMWRAMBNK1		$40
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1			
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				
				.DA #RRAMWRAMBNK1		$50
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1			
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80

				.DA #RRAMWRAMBNK1		$60
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80

				.DA #RRAMWRAMBNK1		$70
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
*--------------------------------------
				.DA #RRAMWRAMBNK2		$80
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				
				.DA #RRAMWRAMBNK2		$90
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				
				.DA #RRAMWRAMBNK2		$A0
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80

				.DA #RRAMWRAMBNK2		$B0
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80

				.DA #RRAMWRAMBNK2		$C0
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80

				.DA #RRAMWRAMBNK2		$D0
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
*--------------------------------------
				.DA 0					$E0 : MemMgr at $E000
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
*--------------------------------------
				.DA 0					$F0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
*--------------------------------------
K.GUIOSD.JMP	sta SETREADAUX
				sta SETWRITEAUX
				jsr X.GUIOSD
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
*--------------------------------------
MAN
SAVE /A2OSX.SRC/SYS/KERNEL.S.JMP
LOAD /A2OSX.SRC/SYS/KERNEL.S
ASM
