PR#3
PREFIX /A2OSX.SRC
NEW
INC 1
AUTO 6
				.LIST OFF
*--------------------------------------
* $D000-D0FF  	KERNEL.SYSCALL Jmp Table
*--------------------------------------
KERNEL.SYSCALL	
*--------------------------------------
*   Bank 1
*--------------------------------------
				.DA K.FileSearch 		$00
				.DA K.GetFullPathYA
				.DA K.LoadFile
				.DA K.SaveFile
				.DA 0
				.DA 0
				.DA 0
				.DA 0
*--------------------------------------				
				.DA K.LoadDrvYA			$10 
				.DA K.LoadLibYA			
				.DA K.UnloadLibA
				.DA K.LoadExeYA
				.DA K.TimeYA
				.DA K.CTime2Time
				.DA K.PTime2Time
				.DA 0
*--------------------------------------
				.DA K.FOPEN				$20
				.DA K.FCloseA
				.DA K.FREAD
				.DA K.FWRITE
				.DA K.FFLUSHA
				.DA K.FSEEK
				.DA K.FTELLA
				.DA K.FEOFA
*--------------------------------------
				.DA K.REMOVEYA			$30
				.DA K.RENAME
				.DA K.STAT
				.DA 0
				.DA K.OPENDIRYA
				.DA K.ReadDirA
				.DA K.CloseDirA
				.DA K.MKDirYA
*--------------------------------------
*   Bank 2
*--------------------------------------
				.DA K.COutA				$40
				.DA K.SScanF
				.DA 0
				.DA K.PrintFYA
				.DA 0
				.DA 0
				.DA 0
				.DA 0
*--------------------------------------
				.DA K.NewPStrYA			$50
				.DA K.PStrCpy
				.DA K.PStrCat
				.DA K.PStrMatch
				.DA K.PStrUprYA
				.DA K.PStrLwrYA
				.DA K.PStrFTime	
				.DA K.PStr2StrArrayYA
*--------------------------------------
				.DA K.ExecProcessNewEnvYA	$60
				.DA K.ExecProcessYA		
				.DA K.CreateProcessNewEnvYA
				.DA K.CreateProcessYA
				.DA K.GetPSByIDA 
				.DA 0
				.DA K.Sleep
				.DA 0
*--------------------------------------
				.DA K.GetArgC			$70
				.DA K.GetArgA
				.DA K.ExpandPStrYA
				.DA 0
				.DA K.PutEnvYA
				.DA K.SetEnv	
				.DA K.GetEnvYA
				.DA K.UnsetEnvYA	
*--------------------------------------
				.DA K.GetDevByIDA		$80
				.DA K.GetDevByNameYA
				.DA K.GetDevInfoA
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
*--------------------------------------
*  $E000
*--------------------------------------
				.DA K.GetMem			$90
				.DA K.FreeMemA
				.DA K.GetMemPtrA
				.DA K.GetMemByIDA
				.DA 0
				.DA K.LoadStockObjectYA
				.DA K.GetStockObjectA
				.DA K.FreeStockObject
*--------------------------------------
				.DA K.SetLoMem
				.DA K.GetMemStatYA
*--------------------------------------
* LO Byte :
*   #RRAMWRAMBNK1 or #RRAMWRAMBNK2
* LO Byte :
*--------------------------------------
KERNEL.SYSCALL.FLAGS
*--------------------------------------
				.DA #$80					$00
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
*--------------------------------------
				.DA #$80					$10
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
*--------------------------------------
				.DA #$80					$20
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
*--------------------------------------
				.DA #$80					$30
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
				.DA #$80
				.DA #RRAMWRAMBNK1
*--------------------------------------
* $40 -> $8E
*--------------------------------------
				.DA #$80					$40
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
*--------------------------------------
				.DA #$80					$50
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
*--------------------------------------
				.DA #$80					$60
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
*--------------------------------------
				.DA #$80					$70
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
*--------------------------------------
				.DA #$80					$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
				.DA #$80
				.DA #RRAMWRAMBNK2
*--------------------------------------
				.DA 0						$90 : MemMgr at $E000
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
				.DA 0
*--------------------------------------

MAN
SAVE SYS/KERNEL.S.JMP
LOAD SYS/KERNEL.S
ASM
