NEW
  AUTO 3,1
*--------------------------------------
DRV.TERM		cld
				jmp (.1,x)

.1				.DA DRV.TERM.STATUS.LC
				.DA A2osX.BADCALL
				.DA A2osX.BADCALL
				.DA A2osX.BADCALL
				.DA DRV.TERM.CONTROL.LC
				.DA A2osX.BADCALL
				.DA DRV.TERM.OPEN.LC
				.DA DRV.TERM.CLOSE.LC
				.DA DRV.TERM.READ.LC
				.DA DRV.TERM.WRITE.LC
*--------------------------------------
DRV.TERM.STATUS.LC
				jsr DRV.TERM.GetIOCTLBufCntDCB
				
				sta SETREADAUX
				sta SETWRITEAUX
				jsr DRV.TERM.STATUS
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
				

DRV.TERM.CONTROL.LC
				jsr DRV.TERM.GetDCB
				
				sta SETREADAUX
				sta SETWRITEAUX
				jsr DRV.TERM.CONTROL
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
				
DRV.TERM.OPEN.LC
				tax						DEV.ID in A

				jsr DRV.TERM.GetDCB
				
				sta SETREADAUX
				sta SETWRITEAUX
				jsr DRV.TERM.OPEN
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
				
DRV.TERM.CLOSE.LC
				jsr DRV.TERM.GetDCB

				sta SETREADAUX
				sta SETWRITEAUX
				jsr DRV.TERM.CLOSE
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
				
DRV.TERM.READ.LC
				jsr DRV.TERM.GetIOCTLBufCntDCB
				
				sta SETREADAUX
				sta SETWRITEAUX
				jsr DRV.TERM.READ
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
				
DRV.TERM.WRITE.LC
				jsr DRV.TERM.GetIOCTLBufCntDCB

				sta SETREADAUX
				sta SETWRITEAUX
				jsr DRV.TERM.WRITE
				sta CLRREADAUX
				sta CLRWRITEAUX
				rts
				
*--------------------------------------
MAN
SAVE USR/SRC/SYS/KERNEL.S.TERMLC
LOAD USR/SRC/SYS/KERNEL.S
ASM
