NEW
  PREFIX
AUTO 4,1
#!/BIN/SH
#
#  This script makes a proper BOOT disk using the files
#  found in a particular BUILD stored in /MAKE/BUILDS
#
ECHO \f
ECHO "\n\nABOOT (140K Floppy) Media Creator\n\n"
ECHO "You must have the correct 140K image mounted on S6D1\n"
READ -P "Do you want to proceed (Y/N)?  " P
SWITCH $P
  CASE Y
  CASE y
    ECHO
    BREAK
  DEFAULT
    ECHO "\n\nExiting.\n"
    EXIT
END
READ -P "WHICH BUILD NO:  " B
IF [ -Z $B ]
  ECHO "You did not enter any response."
  ECHO
  ECHO "Exiting"
  EXIT
FI
SET SRC = "/MAKE/BUILDS/BUILD${B}"
IF [ -D ${SRC} ]
  ECHO "\n\nFound Valid BUILD\n"
ELSE
  ECHO "\n\nValid BUILD not found."
  ECHO
  ECHO "Exiting"
  EXIT
FI
ECHO "Is this a (R)elease, (C)andidate or (S)table Build"
READ -P "ENTER R C or S:  " RCS
IF [ -Z $RCS ]
  ECHO "You did not enter any response."
  ECHO
  ECHO "Exiting"
  EXIT
FI
SWITCH $RCS
  CASE r
  CASE R
    SET IM = "Release Build No. ${B}"
    BREAK
  CASE c
  CASE C
    SET IM = "Release Candidate Build No. ${B}"
    BREAK
  CASE s
  CASE S
    SET IM = "Stable Release Build No. ${B}"
    BREAK
  DEFAULT
    ECHO "You did not enter a valid response."
    ECHO  "You must enter only one of the characters R C or S!"
    ECHO
    ECHO "Exiting"
    EXIT
END
ECHO "Formatting Destination..."
FORMAT S6D1 ABOOT
MD /ABOOT/BIN
MD /ABOOT/DRV
MD /ABOOT/ETC
MD /ABOOT/LIB
MD /ABOOT/ROOT
MD /ABOOT/SBIN
MD /ABOOT/SYS
CP ${SRC}/A2OSX.LOGO /ABOOT/A2OSX.LOGO
CP ${SRC}/A2OSX.SYSTEM /ABOOT/A2OSX.SYSTEM
CP ${SRC}/PRODOS /ABOOT/PRODOS
CP ${SRC}/BIN/CAT /ABOOT/BIN/CAT
CP ${SRC}/BIN/CHTYP /ABOOT/BIN/CHTYP
CP ${SRC}/BIN/CP /ABOOT/BIN/CP
CP ${SRC}/BIN/CUT /ABOOT/BIN/CUT
CP ${SRC}/BIN/DNSINFO /ABOOT/BIN/DNSINFO
CP ${SRC}/BIN/EDIT /ABOOT/BIN/EDIT
CP ${SRC}/BIN/GREP /ABOOT/BIN/GREP
CP ${SRC}/BIN/IPCONFIG /ABOOT/BIN/IPCONFIG
CP ${SRC}/BIN/KILL /ABOOT/BIN/KILL
CP ${SRC}/BIN/LS /ABOOT/BIN/LS
CP ${SRC}/BIN/LSDEV /ABOOT/BIN/LSDEV
CP ${SRC}/BIN/LSOF /ABOOT/BIN/LSOF
#CP ${SRC}/BIN/MD5 /ABOOT/BIN/MD5
CP ${SRC}/BIN/MEM /ABOOT/BIN/MEM
CP ${SRC}/BIN/MKDIR /ABOOT/BIN/MKDIR
CP ${SRC}/BIN/MORE /ABOOT/BIN/MORE
CP ${SRC}/BIN/MV /ABOOT/BIN/MV
CP ${SRC}/BIN/NETSTAT /ABOOT/BIN/NETSTAT
#CP ${SRC}/BIN/NSCUTIL /ABOOT/BIN/NSCUTIL
CP ${SRC}/BIN/PING /ABOOT/BIN/PING
CP ${SRC}/BIN/PS /ABOOT/BIN/PS
CP ${SRC}/BIN/RM /ABOOT/BIN/RM
CP ${SRC}/BIN/TELNET /ABOOT/BIN/TELNET
CP ${SRC}/BIN/HTTPGET /ABOOT/BIN/HTTPGET
CP ${SRC}/BIN/SH /ABOOT/BIN/SH
#CP ${SRC}/BIN/USERADD /ABOOT/BIN/USERADD
#CP ${SRC}/BIN/USERDEL /ABOOT/BIN/USERDEL
#CP ${SRC}/BIN/WC /ABOOT/BIN/WC
#CP ${SRC}/BIN/WHO /ABOOT/BIN/WHO
CP ${SRC}/DRV/LANCEGS.DRV /ABOOT/DRV/LANCEGS.DRV
#CP ${SRC}/DRV/SSC.DRV /ABOOT/DRV/SSC.DRV
CP ${SRC}/DRV/UTHERNET.DRV /ABOOT/DRV/UTHERNET.DRV
CP ${SRC}/DRV/UTHERNET2.DRV /ABOOT/DRV/UTHERNET2.DRV
#CP ${SRC}/ETC/HOSTNAME /ABOOT/ETC/HOSTNAME
#CP ${SRC}/ETC/HOSTS /ABOOT/ETC/HOSTS
CP INITBOOT /ABOOT/ETC/INIT
#CP ${SRC}/ETC/INIT /ABOOT/ETC/INIT
#CP ${SRC}/ETC/INIT.BOOT /ABOOT/ETC/INIT.BOOT
#CP ${SRC}/ETC/ISSUE /ABOOT/ETC/ISSUE
ECHO "Welcome to A2osX!" > /ABOOT/ETC/ISSUE
ECHO >> /ABOOT/ETC/ISSUE
ECHO $IM >> /ABOOT/ETC/ISSUE
CP ${SRC}/ETC/MOTD /ABOOT/ETC/MOTD
CP ${SRC}/ETC/NETWORK /ABOOT/ETC/NETWORK
CP TCPIP.CONF /ABOOT/ETC/TCPIP.CONF
CP ${SRC}/LIB/LIBBLKDEV /ABOOT/LIB/LIBBLKDEV
CP ${SRC}/LIB/LIBCRYPT /ABOOT/LIB/LIBCRYPT
CP ${SRC}/LIB/LIBTCPIP /ABOOT/LIB/LIBTCPIP
CP ${SRC}/ROOT/PROFILE /ABOOT/PROFILE
CP ${SRC}/SBIN/GETTY /ABOOT/SBIN/GETTY
CP ${SRC}/SBIN/INITD /ABOOT/SBIN/INITD
CP ${SRC}/SBIN/INSDRV /ABOOT/SBIN/INSDRV
#CP ${SRC}/SBIN/KCONFIG /ABOOT/SBIN/KCONFIG
CP ${SRC}/SBIN/LOGIN /ABOOT/SBIN/LOGIN
CP ${SRC}/SBIN/NETWORKD /ABOOT/SBIN/NETWORKD
CP ${SRC}/SBIN/TELNETD /ABOOT/SBIN/TELNETD
CP ${SRC}/SYS/KERNEL /ABOOT/SYS/KERNEL
CP ${SRC}/SYS/KM.RAMWORKS /ABOOT/SYS/KM.RAMWORKS
CP ${SRC}/SYS/KM.NSC /ABOOT/SYS/KM.NSC
#CP ${SRC}/ROOT/PROFILE /ABOOT/ROOT/PROFILE
MAN
TEXT /MAKE/USR/SHARE/MAKE/MAKEBOOT
