PR#3
PREFIX /A2OSX.SRC
NEW
INC 1
AUTO 6
				.LIST OFF
*--------------------------------------
* Aux ZP
*--------------------------------------
ZPQuickPtr1		.EQ $0					Temp Ptrs for use in very limited scope
ZPQuickPtr2		.EQ $2					(could be trashed by any JSR)
ZPQuickPtr3		.EQ $4
ZPQuickPtr4		.EQ $6

pCode			.EQ $10
pData			.EQ $12
pStack			.EQ $14

pLib			.EQ $16
pDev			.EQ $18

pEvent			.EQ $1A
pPs				.EQ $1C

ZPDRV			.EQ	$80
ZPBIN			.EQ $90
ZPLIB			.EQ	$A0
*--------------------------------------
* $C0 -> $FF	KERNEL RESERVED
*--------------------------------------
A2osX.SaveSM	.EQ $100				Aux
A2osX.SaveSX	.EQ $101				Aux
*--------------------------------------
* Main $200 -> 2FF : (Used By ProDOS,Clock DRV....)
* Main $300 -> 3EF : <free>
* Main $3F0 -> 3FF : SYS Vectors (reset,IRQ...)
* Aux  $200 -> 3FD : /RAM Driver
* Aux  $3FE -> 3FF : IRQ Vector
* Main/Aux $400	-> $7FF : Console Screen
* Main/Aux $800	-> $BFF : System Screen
*--------------------------------------
TmpBuffer256	.EQ $0200				Main
*--------------------------------------
D.STACK.BASE	.EQ $0300				$03EF...
D.STACK.TOP		.EQ $03F0				...Down to $0300
*--------------------------------------
* A2osX GLOBAL PAGE
*  $BE00->$BE0F : Public Vetors
*--------------------------------------
A2osX.SYSCALL	.EQ	$BE00
A2osX.LIBCALL	.EQ	$BE02
A2osX.SLEEP		.EQ	$BE04
A2osX.MLICALL	.EQ	$BE06
*--------------------------------------
*  $BEE0->$BEFF : Public Variables
*--------------------------------------
A2osX.SCREENS	.EQ	$BEE0
A2osX.SCREENS.S	.EQ %00000001			System Screen
A2osX.SCREENS.C	.EQ %00000010			Console Screen
A2osX.SCREENS.G	.EQ %00000100			Graphic Screen
A2osX.ASCREEN	.EQ	$BEE1				Active Screen

A2osX.CSCREEN.DEV	.EQ	$BEE2
A2osX.GSCREEN.DEV	.EQ	$BEE3

A2osX.TIMER16	.EQ $BEE4
A2osX.RANDOM16	.EQ $BEE6

A2osX.CPUTYPE	.EQ $BEE8
A2osX.Z80SLOT	.EQ $BEEA
*--------------------------------------
*** Z80 Reserved ***
*--------------------------------------
*** IRQ Handler ***
*--------------------------------------
* LIB Function Indexes
*--------------------------------------
LIBMGR.LOAD		.EQ 0
LIBMGR.UNLOAD	.EQ 2
*--------------------------------------
* Task Function Indexes
*--------------------------------------
TSKMGR.INIT		.EQ 0
TSKMGR.RUN		.EQ 2
TSKMGR.DOEVENT	.EQ 4
TSKMGR.QUIT		.EQ 6
*--------------------------------------
MAN
SAVE INC/A2OSX.I
