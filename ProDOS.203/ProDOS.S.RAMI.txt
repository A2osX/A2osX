NEW
  AUTO 3,1
* object code = ram_1
*
* /RAM installer - transfer part of the driver to the aux bank
* and front part of the driver to the main bank (language card).

RAM_1 		.BS $2C80-*

H2C80			ldy #$99			move $9A bytesfrom lcsrc to lcdest.

.1	  		lda	lcsrc,y			transfer main bank portion of driver
				sta lcdest,y					
				dey
				cpy #$FF
				bne	.1
				
				ldx	#ramsrc			set up to move aux portion of driver
				stx	A1L
				dex
				stx	A2L
				ldx	ramsrc
				stx A1L+1
				inx
				stx A2L+1
				lda #ramdest
				sta	A4L
				lda	/ramdest				  	ramsrc to ramdest
				sta	A4L+1
				sec			 irection = to aux bank.
				jsr auxmove				move aux bank portion of driver.
				
				lda #lcdest				put driver address into
				sta	drivertbl2+6	slot 3, drive 2.
				lda /lcdest
				sta	drivertbl2+7
				
				inc numdevs				  count (-1) active devices
				ldx numdevs
				lda #$BF				   unit num of /RAM
				sta	devlist,x
				rts	end of obj ram_1

RAM_1_END		.EQ	*					end of /RAM installer
				.BS $2D00-*				pad 0's to page boundary
*--------------------------------------
MAN
SAVE USR/SRC/PRODOS.203/PRODOS.S.RAMI
LOAD USR/SRC/PRODOS.203/PRODOS.S
ASM
