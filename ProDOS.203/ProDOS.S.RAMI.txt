NEW
  AUTO 3,1
* object code = ram_1
*
* /RAM installer - transfer part of the driver to the aux bank
* and front part of the driver to the main bank (language card).

H2C80    ldy   #$99			move $9A bytesfrom lcsrc to lcdest.
H2C82    lda	lcsrc,y			transfer main bank portion of driver
         sta   lcdest,y                 
         dey
         cpy   #$FF
         bne	H2C82
         ldx	#<ramsrc		set up to move aux portion of driver
         stx	A1L
         dex
	stx	A2L
	ldx	#>ramsrc
         stx   A1L+1
         inx
         stx   A2L+1
         lda   #<ramdest
         sta	A4L
         lda	#>ramdest           	ramsrc to ramdest
         sta	A4L+1
	sec                      	direction = to aux bank.
         jsr   auxmove			move aux bank portion of driver.
         lda   #<lcdest			put driver address into
         sta	drivertbl2+6             slot 3, drive 2.
         lda   #>lcdest
         sta	drivertbl2+7
         inc   numdevs                  count (-1) active devices
         ldx   numdevs
         lda   #$BF                     unit num of /RAM
         sta	devlist,x
         rts				end of obj ram_1

r1_end	.EQ	*			end of /RAM installer
	ds	$D00-(r1_end-H2000)	pad 0's to page boundary
*--------------------------------------
MAN
LOAD USR/SRC/PRODOS/PRODOS.S.RAMI
SAVE USR/SRC/PRODOS/PRODOS.S
ASM

