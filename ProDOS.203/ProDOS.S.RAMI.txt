NEW
  AUTO 3,1
* object code = ram_1
*
* /RAM installer - transfer part of the driver to the aux bank
* and front part of the driver to the main bank (language card).

RAMDRV.Install	ldy #$99				move $9A bytesfrom lcsrc to lcdest.

.1	  			lda	RAM,y				transfer main bank portion of driver
				sta RAMDRV,y					
				dey
				cpy #$FF
				bne	.1
				
				ldx	#RAMX				set up to move aux portion of driver
				stx	A1L
				dex
				stx	A2L
				ldx	/RAMX
				stx A1L+1
				inx
				stx A2L+1
				lda #RAMXDRV
				sta	A4L
				lda	/RAMXDRV			RAMX to RAMXDRV
				sta	A4L+1
				sec			 			irection = to aux bank.
				jsr auxmove				move aux bank portion of driver.
				
				lda #RAMDRV				put driver address into
				sta	drivertbl2+6		slot 3, drive 2.
				lda /RAMDRV
				sta	drivertbl2+7
				
				inc numdevs				count (-1) active devices
				ldx numdevs
				lda #$BF				unit num of /RAM
				sta	devlist,x
				rts	end of obj ram_1

RAM_1_END		.EQ	*					end of /RAM installer
				.BS $2D00-*				pad 0's to page boundary
*--------------------------------------
MAN
SAVE USR/SRC/PRODOS.203/PRODOS.S.RAMI
LOAD USR/SRC/PRODOS.203/PRODOS.S
ASM
